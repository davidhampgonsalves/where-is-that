<!DOCTYPE html>
<html>
  <head>
    <title>Where is Moray?</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <meta name="description" content="Find out where places in the world are located.">
    <meta name="keywords" content="Where, is, Canada, United States, China, Ontario, Nova scotia">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-19849283-5', 'iswhere.us');
      ga('send', 'pageview');

    </script>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&key=AIzaSyB_e-AsGPAjXRJiYxzX1w9k4PGANpjFVoQ"></script>
   <script>
    // 4326 rather then googles one 3857
      var rawData = {"type":"MultiPolygon","coordinates":[[[[-2.885,58.82],[-2.914,58.81],[-2.919,58.806],[-2.921,58.797],[-2.916,58.791],[-2.914,58.785],[-2.926,58.779],[-2.915,58.762],[-2.911,58.749],[-2.918,58.738],[-2.94,58.731],[-2.988,58.757],[-2.988,58.765],[-2.974,58.772],[-2.985,58.787],[-3.016,58.813],[-3.004,58.808],[-2.991,58.807],[-2.979,58.808],[-2.967,58.813],[-2.967,58.82],[-3.035,58.82],[-3.035,58.826],[-2.997,58.835],[-2.953,58.84],[-2.907,58.838],[-2.884,58.832],[-2.885,58.82]]],[[[-3.246,58.896],[-3.193,58.854],[-3.207,58.847],[-3.207,58.84],[-3.196,58.839],[-3.187,58.836],[-3.173,58.826],[-3.173,58.82],[-3.192,58.819],[-3.215,58.814],[-3.237,58.806],[-3.248,58.792],[-3.218,58.793],[-3.16,58.808],[-3.132,58.806],[-3.156,58.787],[-3.206,58.779],[-3.299,58.779],[-3.304,58.784],[-3.324,58.809],[-3.328,58.818],[-3.338,58.824],[-3.349,58.828],[-3.358,58.833],[-3.379,58.854],[-3.38,58.859],[-3.376,58.864],[-3.374,58.868],[-3.379,58.874],[-3.386,58.875],[-3.398,58.869],[-3.402,58.871],[-3.412,58.875],[-3.422,58.874],[-3.43,58.875],[-3.433,58.885],[-3.418,58.904],[-3.416,58.908],[-3.393,58.92],[-3.349,58.928],[-3.337,58.929],[-3.322,58.924],[-3.288,58.906],[-3.265,58.902],[-3.246,58.896]]],[[[-3.156,59.142],[-3.122,59.124],[-3.108,59.124],[-3.096,59.127],[-3.085,59.128],[-3.074,59.124],[-3.059,59.112],[-3.049,59.108],[-3.064,59.102],[-3.07,59.101],[-3.051,59.09],[-2.995,59.073],[-3.002,59.072],[-3.005,59.07],[-3.008,59.066],[-3.004,59.064],[-2.999,59.061],[-2.995,59.06],[-3.054,59.047],[-3.063,59.049],[-3.071,59.033],[-3.091,59.019],[-3.114,59.008],[-3.132,59.005],[-3.117,58.998],[-3.097,58.994],[-3.06,58.991],[-3.045,58.998],[-3.029,59.01],[-3.012,59.017],[-2.974,58.999],[-2.96,59.001],[-2.947,59.008],[-2.933,59.011],[-2.917,59.006],[-2.907,58.997],[-2.895,58.991],[-2.878,58.998],[-2.881,58.994],[-2.883,58.982],[-2.885,58.977],[-2.865,58.975],[-2.848,58.98],[-2.831,58.988],[-2.813,58.991],[-2.79,58.992],[-2.781,58.99],[-2.775,58.984],[-2.782,58.974],[-2.823,58.959],[-2.837,58.95],[-2.826,58.937],[-2.812,58.929],[-2.795,58.926],[-2.775,58.929],[-2.789,58.95],[-2.796,58.957],[-2.778,58.957],[-2.744,58.969],[-2.728,58.971],[-2.714,58.967],[-2.708,58.959],[-2.706,58.947],[-2.707,58.932],[-2.715,58.925],[-2.734,58.92],[-2.772,58.916],[-2.785,58.911],[-2.808,58.888],[-2.824,58.881],[-2.839,58.883],[-2.915,58.899],[-2.927,58.905],[-2.937,58.913],[-2.974,58.954],[-2.981,58.96],[-2.994,58.959],[-3.008,58.949],[-3.024,58.94],[-3.042,58.943],[-3.053,58.939],[-3.062,58.939],[-3.072,58.942],[-3.085,58.943],[-3.07,58.929],[-3.101,58.93],[-3.113,58.927],[-3.118,58.916],[-3.143,58.921],[-3.203,58.916],[-3.228,58.929],[-3.239,58.951],[-3.235,58.972],[-3.223,58.991],[-3.207,59.005],[-3.207,59.011],[-3.215,59.017],[-3.22,59.024],[-3.225,59.031],[-3.228,59.039],[-3.239,59.035],[-3.246,59.03],[-3.247,59.025],[-3.241,59.018],[-3.241,59.011],[-3.25,59.014],[-3.259,59.016],[-3.267,59.015],[-3.276,59.011],[-3.267,59.007],[-3.263,59.001],[-3.264,58.993],[-3.262,58.991],[-3.257,58.978],[-3.265,58.969],[-3.289,58.957],[-3.289,58.95],[-3.323,58.957],[-3.353,58.983],[-3.367,59.016],[-3.351,59.046],[-3.344,59.053],[-3.35,59.098],[-3.324,59.127],[-3.279,59.143],[-3.231,59.148],[-3.183,59.147],[-3.156,59.142]]],[[[-2.615,59.152],[-2.618,59.148],[-2.59,59.149],[-2.578,59.147],[-2.569,59.142],[-2.582,59.144],[-2.593,59.139],[-2.595,59.129],[-2.584,59.12],[-2.572,59.119],[-2.559,59.121],[-2.535,59.128],[-2.535,59.123],[-2.536,59.122],[-2.539,59.122],[-2.542,59.12],[-2.548,59.109],[-2.542,59.103],[-2.515,59.094],[-2.533,59.084],[-2.576,59.08],[-2.597,59.073],[-2.599,59.096],[-2.614,59.107],[-2.634,59.109],[-2.652,59.101],[-2.649,59.085],[-2.671,59.082],[-2.686,59.089],[-2.666,59.108],[-2.651,59.112],[-2.635,59.113],[-2.622,59.116],[-2.618,59.128],[-2.624,59.134],[-2.655,59.151],[-2.666,59.155],[-2.626,59.162],[-2.612,59.161],[-2.612,59.155],[-2.615,59.152]]],[[[-3.029,59.182],[-3.022,59.182],[-2.981,59.187],[-2.968,59.187],[-2.953,59.183],[-2.952,59.178],[-2.954,59.177],[-2.957,59.177],[-2.96,59.176],[-2.977,59.163],[-2.974,59.147],[-2.975,59.134],[-3.005,59.128],[-3.036,59.129],[-3.066,59.134],[-3.092,59.143],[-3.115,59.158],[-3.12,59.177],[-3.102,59.19],[-3.074,59.197],[-3.049,59.197],[-3.048,59.195],[-3.046,59.191],[-3.043,59.186],[-3.035,59.183],[-3.029,59.182]]],[[[-2.769,59.245],[-2.769,59.238],[-2.755,59.239],[-2.744,59.238],[-2.734,59.233],[-2.728,59.224],[-2.734,59.216],[-2.756,59.198],[-2.761,59.193],[-2.761,59.177],[-2.759,59.164],[-2.751,59.156],[-2.734,59.155],[-2.734,59.148],[-2.764,59.143],[-2.781,59.141],[-2.789,59.145],[-2.793,59.159],[-2.802,59.168],[-2.815,59.174],[-2.83,59.176],[-2.83,59.197],[-2.817,59.191],[-2.807,59.192],[-2.797,59.195],[-2.786,59.197],[-2.785,59.2],[-2.79,59.218],[-2.789,59.224],[-2.792,59.237],[-2.788,59.247],[-2.777,59.253],[-2.761,59.252],[-2.761,59.245],[-2.769,59.245]]],[[[-2.395,59.295],[-2.392,59.285],[-2.44,59.284],[-2.459,59.279],[-2.467,59.268],[-2.478,59.263],[-2.497,59.239],[-2.504,59.233],[-2.515,59.23],[-2.516,59.252],[-2.533,59.251],[-2.577,59.224],[-2.572,59.235],[-2.569,59.238],[-2.569,59.245],[-2.589,59.239],[-2.597,59.239],[-2.604,59.245],[-2.641,59.218],[-2.662,59.207],[-2.679,59.21],[-2.682,59.196],[-2.688,59.19],[-2.693,59.192],[-2.693,59.204],[-2.688,59.218],[-2.681,59.223],[-2.672,59.225],[-2.659,59.23],[-2.65,59.237],[-2.633,59.252],[-2.625,59.258],[-2.613,59.261],[-2.603,59.261],[-2.596,59.265],[-2.591,59.279],[-2.597,59.282],[-2.612,59.293],[-2.588,59.293],[-2.547,59.306],[-2.522,59.307],[-2.522,59.299],[-2.537,59.294],[-2.552,59.287],[-2.577,59.271],[-2.569,59.27],[-2.566,59.269],[-2.563,59.265],[-2.552,59.271],[-2.519,59.274],[-2.492,59.289],[-2.477,59.291],[-2.461,59.291],[-2.446,59.293],[-2.425,59.31],[-2.411,59.319],[-2.405,59.316],[-2.395,59.295]]],[[[-2.946,59.35],[-2.948,59.348],[-2.95,59.349],[-2.953,59.348],[-2.964,59.34],[-2.965,59.335],[-2.96,59.327],[-2.981,59.326],[-2.988,59.327],[-2.988,59.32],[-2.91,59.307],[-2.896,59.303],[-2.877,59.277],[-2.871,59.271],[-2.86,59.267],[-2.849,59.267],[-2.839,59.265],[-2.83,59.258],[-2.83,59.252],[-2.85,59.252],[-2.862,59.247],[-2.885,59.23],[-2.884,59.239],[-2.882,59.246],[-2.878,59.252],[-2.871,59.258],[-2.92,59.283],[-2.947,59.291],[-2.975,59.293],[-2.975,59.286],[-2.97,59.282],[-2.96,59.271],[-2.975,59.279],[-2.982,59.27],[-2.99,59.267],[-2.998,59.268],[-3.008,59.271],[-3.015,59.275],[-3.02,59.28],[-3.035,59.301],[-3.037,59.307],[-3.04,59.312],[-3.049,59.32],[-3.059,59.323],[-3.067,59.323],[-3.073,59.324],[-3.077,59.334],[-3.056,59.334],[-3.024,59.33],[-3.008,59.334],[-2.98,59.355],[-2.965,59.361],[-2.947,59.354],[-2.946,59.35]]]]};

      function initialize() {

          google.maps.visualRefresh = true;
          google.maps.Polygon.prototype.getBounds = function() {
            var bounds = new google.maps.LatLngBounds();
            var paths = this.getPaths();
            for (var i = 0; i < paths.getLength(); i++) {
                var path = paths.getAt(i);
                for (var ii = 0; ii < path.getLength(); ii++)
                    bounds.extend(path.getAt(ii));
            }
            return bounds;
          }

          var MY_MAPTYPE_ID = 'Simplified';
          var map = new google.maps.Map(document.getElementById('map-canvas'), {
            zoom: 8,
            panControl : false, 
            streetViewControl : false, 
            zoomControl : false, 
            scaleControl : false,
            center: new google.maps.LatLng(170,150),
            mapTypeControlOptions: {mapTypeIds: [google.maps.MapTypeId.ROADMAP, MY_MAPTYPE_ID]},
            //scaleControlOptions: {position : google.maps.ControlPosition.LEFT_CENTER},
            //streetViewControlOptions: {position : google.maps.ControlPosition.LEFT_CENTER},
            //zoomControlOptions: {position : google.maps.ControlPosition.LEFT_CENTER},
            mapTypeId: MY_MAPTYPE_ID
          });

          var polygonToFocusOn;
          var bounds = new google.maps.LatLngBounds();
          if(rawData.type === 'MultiPolygon') {
            var polygonCount = rawData.coordinates.length;
            
            for(var i=0 ; i < polygonCount ; i++) {
              bounds.union(addPolygonToMap(map, rawData.coordinates[i][0]));
            }
          } else
            bounds = addPolygonToMap(map, rawData.coordinates[0]);

          var customMapType = new google.maps.StyledMapType([], {name: MY_MAPTYPE_ID});
          map.mapTypes.set(MY_MAPTYPE_ID, customMapType);
          map.fitBounds(bounds);
      }

      function addPolygonToMap(map, data) {

        var regionCoords = [];
        var regionBounds = new google.maps.LatLngBounds();
        for(var i=0 ; i < data.length ; i++) {
          var point = new google.maps.LatLng(data[i][1], data[i][0]);
          regionCoords.push(point);
          regionBounds.extend(point);
        }

        var overlayOptions = {
          paths: regionCoords,
          strokeColor: "#FF0000",
          strokeOpacity: 0.5,
          strokeWeight: 6,
          fillColor: '#FFFFFF', 
          fillOpacity: 0,
          clickable: false,
          strokePosition: google.maps.StrokePosition.OUTSIDE
        };

        var regionOverlay = new google.maps.Polygon(overlayOptions);

        overlayOptions.strokeColor = "#FFFFFF";
        overlayOptions.strokeWeight = 8;
        overlayOptions.strokeOpacity = 0.7;
        overlayOptions.strokePosition = google.maps.StrokePosition.INSIDE;
        var regionOverlay2 = new google.maps.Polygon(overlayOptions);

        var marker = new google.maps.Marker({
          position: regionOverlay.getBounds().getCenter(),
          map: map,
          title: 'Moray'
        });          

        regionOverlay.setMap(map);
        regionOverlay2.setMap(map);
        
        return regionBounds;
      }

      google.maps.event.addDomListener(window, 'load', initialize);
    </script>

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Abril+Fatface' rel='stylesheet' type='text/css'>

    <style>
      * {
        margin:0;padding:0;
      }

      html, body, #map-canvas {
        height: 100%;
      }

      body {
        font-family:'Open Sans', sans-serif;
        font-weight:300;
      }

      h1 {
        position:absolute;
        margin: 50px 50px;
        font-size: 85px;
        line-height:65%;
        font-weight:400;
        text-shadow: 0 0 20px #000;
        color:#FFF;
        top:0;
        left:0;
        z-index: 99;
      }

      h1 a {
        text-decoration: none;
        color:#FFF;
      }

      h1 span {
        color: rgb(253,253,253);
        font-size:80px;
      }

      h1, h2 {
        font-family: 'Abril Fatface', serif;
      }

      #content-container, #ads-container {
        position:absolute;
        z-index: 99;
        margin:50px;
        padding:15px;
        background:#FFF;
        box-shadow: 0 0 5px #000;
      }

      #ads-container {
        left:0;
        bottom:0;
        height:500px;
        width:200px;
      }

      #ads {
        border:2px dashed #444;
        padding:30px;
        position:static;
        height:436px;
      }

      #content-container {
        bottom:0;
        right:0;
      }

      #content {
        position:static;
        font-weight:300;
        width:400px;
        padding:30px;
        border:2px dashed #444;
      }

      #map-canvas {
        width:100%;
        height:100%;
        z-index: 0;
      }
    </style>
  </head>
  <body>
    <h1><a href='/'><span>Where is</span><br>Moray?</a></h1>
    
    <div id=content-container>
      <div id=content>
          <h2>Have you questioned  where Moray is located? </h2>Moray, is a unitary district of the Scotland region. It belongs to the country of United Kingdom. Its postal identifier is MO.Moray has an area of 935 square kilometeres.
      </div>
    </div>
    
    <div id=ads-container><div id=ads> </div></div>
    
    <div id="map-canvas"></div>
  </body>
</html>



