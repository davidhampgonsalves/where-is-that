<!DOCTYPE html>
<html>
  <head>
    <title>Where is Ehime?</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <meta name="description" content="Want to know where the Prefecture of Ehime is located?">
    <meta name="keywords" content="Where, is,Ehime, located, country, city, place, region, state, province">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-19849283-5', 'iswhere.us');
      ga('send', 'pageview');

    </script>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&key=AIzaSyB_e-AsGPAjXRJiYxzX1w9k4PGANpjFVoQ"></script>
   <script>
    // 4326 rather then googles one 3857
      var rawData = {"type":"MultiPolygon","coordinates":[[[[132.62,33.954],[132.601,33.95],[132.589,33.956],[132.587,33.97],[132.596,33.981],[132.606,33.989],[132.614,33.994],[132.618,33.996],[132.625,33.999],[132.636,34.008],[132.641,34.014],[132.644,34.011],[132.644,34.001],[132.643,33.99],[132.641,33.984],[132.637,33.979],[132.635,33.975],[132.634,33.965],[132.62,33.954]]],[[[133.137,33.917],[133.153,33.916],[133.169,33.917],[133.196,33.922],[133.227,33.933],[133.253,33.949],[133.265,33.972],[133.276,33.967],[133.285,33.97],[133.295,33.975],[133.306,33.979],[133.317,33.981],[133.324,33.981],[133.341,33.979],[133.415,33.986],[133.439,33.982],[133.487,33.967],[133.511,33.965],[133.532,33.971],[133.549,33.981],[133.562,33.993],[133.573,34.006],[133.588,34.02],[133.592,34.024],[133.625,34.018],[133.647,34.012],[133.661,33.998],[133.669,33.928],[133.667,33.901],[133.657,33.873],[133.648,33.856],[133.56,33.853],[133.515,33.837],[133.494,33.825],[133.469,33.819],[133.427,33.818],[133.384,33.813],[133.335,33.813],[133.302,33.805],[133.286,33.806],[133.268,33.805],[133.257,33.798],[133.236,33.779],[133.223,33.774],[133.209,33.773],[133.19,33.776],[133.179,33.772],[133.171,33.763],[133.165,33.753],[133.148,33.73],[133.117,33.672],[133.108,33.659],[133.097,33.647],[133.075,33.631],[133.066,33.618],[133.06,33.602],[133.056,33.589],[133.045,33.565],[133.044,33.554],[133.045,33.535],[133.043,33.525],[133.035,33.512],[133.003,33.475],[132.986,33.461],[132.97,33.454],[132.95,33.45],[132.82,33.45],[132.809,33.444],[132.804,33.435],[132.81,33.413],[132.812,33.4],[132.816,33.389],[132.824,33.379],[132.834,33.371],[132.841,33.363],[132.848,33.353],[132.857,33.344],[132.869,33.335],[132.878,33.326],[132.882,33.316],[132.877,33.303],[132.86,33.29],[132.802,33.261],[132.784,33.25],[132.774,33.239],[132.768,33.228],[132.765,33.215],[132.763,33.204],[132.761,33.195],[132.759,33.188],[132.75,33.182],[132.724,33.168],[132.713,33.157],[132.696,33.131],[132.686,33.124],[132.673,33.123],[132.661,33.129],[132.633,33.152],[132.619,33.153],[132.614,33.145],[132.614,33.136],[132.618,33.125],[132.636,33.091],[132.643,33.08],[132.648,33.069],[132.647,33.057],[132.648,33.046],[132.653,33.034],[132.672,33.001],[132.672,32.981],[132.675,32.963],[132.673,32.952],[132.669,32.942],[132.643,32.909],[132.64,32.909],[132.627,32.906],[132.619,32.907],[132.576,32.932],[132.559,32.937],[132.572,32.923],[132.553,32.925],[132.537,32.931],[132.524,32.93],[132.518,32.91],[132.524,32.907],[132.533,32.899],[132.538,32.896],[132.521,32.889],[132.504,32.892],[132.491,32.901],[132.484,32.916],[132.495,32.962],[132.493,32.971],[132.504,32.978],[132.502,32.993],[132.49,33.023],[132.48,33.027],[132.416,33.047],[132.431,33.052],[132.452,33.053],[132.472,33.056],[132.484,33.068],[132.463,33.068],[132.469,33.082],[132.469,33.096],[132.463,33.106],[132.449,33.109],[132.449,33.115],[132.472,33.114],[132.476,33.115],[132.48,33.118],[132.488,33.126],[132.49,33.133],[132.48,33.136],[132.45,33.137],[132.441,33.142],[132.436,33.156],[132.455,33.162],[132.463,33.163],[132.449,33.171],[132.438,33.182],[132.424,33.186],[132.411,33.191],[132.422,33.192],[132.454,33.186],[132.472,33.18],[132.476,33.177],[132.48,33.175],[132.49,33.177],[132.496,33.18],[132.5,33.183],[132.517,33.208],[132.529,33.236],[132.538,33.246],[132.52,33.253],[132.504,33.257],[132.49,33.256],[132.476,33.246],[132.48,33.264],[132.487,33.279],[132.498,33.29],[132.518,33.293],[132.518,33.301],[132.405,33.301],[132.392,33.303],[132.382,33.31],[132.379,33.32],[132.385,33.331],[132.392,33.335],[132.408,33.336],[132.416,33.342],[132.418,33.347],[132.421,33.376],[132.403,33.363],[132.391,33.375],[132.391,33.398],[132.408,33.417],[132.408,33.423],[132.395,33.423],[132.399,33.431],[132.404,33.438],[132.412,33.442],[132.421,33.445],[132.381,33.466],[132.363,33.468],[132.354,33.451],[132.345,33.455],[132.341,33.455],[132.333,33.451],[132.308,33.451],[132.274,33.44],[132.238,33.423],[132.162,33.376],[132.156,33.369],[132.154,33.364],[132.15,33.359],[132.141,33.356],[132.133,33.355],[132.107,33.356],[132.106,33.371],[132.081,33.363],[132.031,33.335],[132.024,33.346],[132.039,33.358],[132.06,33.369],[132.095,33.392],[132.139,33.401],[132.162,33.41],[132.151,33.416],[132.152,33.418],[132.16,33.42],[132.192,33.437],[132.207,33.44],[132.224,33.447],[132.239,33.45],[132.251,33.445],[132.277,33.469],[132.413,33.535],[132.429,33.548],[132.436,33.564],[132.442,33.573],[132.471,33.602],[132.48,33.608],[132.496,33.612],[132.602,33.66],[132.617,33.664],[132.646,33.679],[132.677,33.716],[132.697,33.757],[132.696,33.787],[132.704,33.814],[132.707,33.848],[132.712,33.877],[132.731,33.89],[132.76,33.9],[132.771,33.925],[132.773,33.956],[132.778,33.986],[132.795,34.004],[132.849,34.028],[132.884,34.054],[132.913,34.063],[132.926,34.071],[132.93,34.084],[132.923,34.095],[132.91,34.101],[132.895,34.102],[132.895,34.109],[132.911,34.11],[132.924,34.115],[132.943,34.129],[132.95,34.119],[132.958,34.116],[132.967,34.114],[132.977,34.109],[133.047,34.017],[133.061,33.991],[133.066,33.962],[133.072,33.956],[133.11,33.927],[133.122,33.92],[133.137,33.917]]],[[[133.083,34.175],[133.094,34.174],[133.099,34.175],[133.102,34.171],[133.094,34.16],[133.045,34.118],[133.028,34.112],[133.017,34.119],[133.017,34.136],[133.02,34.15],[133.026,34.154],[133.032,34.154],[133.037,34.153],[133.034,34.161],[133.026,34.176],[133.033,34.189],[133.055,34.194],[133.072,34.188],[133.077,34.181],[133.083,34.175]]]]};

      function initialize() {

          google.maps.visualRefresh = true;
          google.maps.Polygon.prototype.getBounds = function() {
            var bounds = new google.maps.LatLngBounds();
            var paths = this.getPaths();
            for (var i = 0; i < paths.getLength(); i++) {
                var path = paths.getAt(i);
                for (var ii = 0; ii < path.getLength(); ii++)
                    bounds.extend(path.getAt(ii));
            }
            return bounds;
          }

          var MY_MAPTYPE_ID = 'Simplified';
          var map = new google.maps.Map(document.getElementById('map-canvas'), {
            zoom: 8,
            panControl : false, 
            streetViewControl : false, 
            zoomControl : false, 
            scaleControl : false,
            center: new google.maps.LatLng(170,150),
            mapTypeControlOptions: {mapTypeIds: [google.maps.MapTypeId.ROADMAP, MY_MAPTYPE_ID]},
            //scaleControlOptions: {position : google.maps.ControlPosition.LEFT_CENTER},
            //streetViewControlOptions: {position : google.maps.ControlPosition.LEFT_CENTER},
            //zoomControlOptions: {position : google.maps.ControlPosition.LEFT_CENTER},
            mapTypeId: MY_MAPTYPE_ID
          });

          var polygonToFocusOn;
          var bounds = new google.maps.LatLngBounds();
          if(rawData.type === 'MultiPolygon') {
            var polygonCount = rawData.coordinates.length;
            
            for(var i=0 ; i < polygonCount ; i++) {
              bounds.union(addPolygonToMap(map, rawData.coordinates[i][0]));
            }
          } else
            bounds = addPolygonToMap(map, rawData.coordinates[0], true);

          var customMapType = new google.maps.StyledMapType([], {name: MY_MAPTYPE_ID});
          map.mapTypes.set(MY_MAPTYPE_ID, customMapType);
          map.fitBounds(bounds);
      }

      function addPolygonToMap(map, data, isSinglePolygon) {

        var regionCoords = [];
        var regionBounds = new google.maps.LatLngBounds();
        for(var i=0 ; i < data.length ; i++) {
          var point = new google.maps.LatLng(data[i][1], data[i][0]);
          regionCoords.push(point);
          regionBounds.extend(point);
        }

        var overlayOptions = {
          paths: regionCoords,
          strokeColor: "#FF0000",
          strokeOpacity: 0.5,
          strokeWeight: 6,
          fillColor: '#FFFFFF', 
          fillOpacity: 0,
          clickable: false,
          strokePosition: google.maps.StrokePosition.OUTSIDE
        };

        var regionOverlay = new google.maps.Polygon(overlayOptions);

        overlayOptions.strokeColor = "#FFFFFF";
        overlayOptions.strokeWeight = 8;
        overlayOptions.strokeOpacity = 0.7;
        overlayOptions.strokePosition = google.maps.StrokePosition.INSIDE;
        var regionOverlay2 = new google.maps.Polygon(overlayOptions);

        if(isSinglePolygon) {
          new google.maps.Marker({
            position: regionOverlay.getBounds().getCenter(),
            map: map,
            title: 'Ehime'
          });
        }

        regionOverlay.setMap(map);
        regionOverlay2.setMap(map);
        
        return regionBounds;
      }

      google.maps.event.addDomListener(window, 'load', initialize);
    </script>

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Abril+Fatface' rel='stylesheet' type='text/css'>

    <style>
      * {
        margin:0;padding:0;
      }

      html, body, #map-canvas {
        height: 100%;
      }

      body {
        font-family:'Open Sans', sans-serif;
        font-weight:300;
      }

      h1 {
        position:absolute;
        margin: 50px 50px;
        font-size: 85px;
        line-height:65%;
        font-weight:400;
        text-shadow: 0 0 20px #000;
        color:#FFF;
        top:0;
        left:0;
        z-index: 99;
      }

      h1 a {
        text-decoration: none;
        color:#FFF;
      }

      h1 span {
        color: rgb(253,253,253);
        font-size:80px;
      }

      h1, h2 {
        font-family: 'Abril Fatface', serif;
      }

      #content-container, #ads-container {
        position:absolute;
        z-index: 99;
        margin:50px;
        padding:15px;
        background:#FFF;
        box-shadow: 0 0 5px #000;
      }

      #ads-container {
        left:0;
        bottom:0;
        height:500px;
        width:200px;
      }

      #ads {
        border:2px dashed #444;
        padding:30px;
        position:static;
        height:436px;
      }

      #content-container {
        bottom:0;
        right:0;
        max-height: 80%;
        overflow-y:auto;
      }

      #content {
        position:static;
        font-weight:300;
        width:400px;
        padding:30px;
        border:2px dashed #444;
      }

      #map-canvas {
        width:100%;
        height:100%;
        z-index: 0;
      }
    </style>
  </head>
  <body>
    <h1><a href='/'><span>Where is</span><br>Ehime?</a></h1>
    
    <div id=content-container>
      <div id=content>
          <h2>Have you ever wondered where Ehime is located? </h2>Ehime, is a prefecture of the Shikoku region. It belongs to the country of <a href="japan.html">Japan</a>. Its postal identifier is EH.Ehime has an area of 5463 square kilometeres.
      </div>
    </div>
    
    <!--div id=ads-container><div id=ads> </div></div-->
    
    <div id="map-canvas"></div>
  </body>
</html>



